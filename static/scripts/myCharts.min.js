$(document).ready(function(){google.charts.load('current',{packages:['corechart']}),google.charts.load('current',{packages:['bar']}),google.charts.load('current',{packages:['line']});var g=chart_to_load,h=JSON.parse(teams);'undefined'==typeof home_stats?home_stats=null:home_form=JSON.parse(home_stats),'undefined'==typeof away_stats?away_stats=null:away_form=JSON.parse(away_stats);'barChartGames'===g?google.charts.setOnLoadCallback(function(){console.log(h);var j=new google.visualization.DataTable;j.addColumn('string','Team'),j.addColumn('number','Lost'),j.addColumn('number','Drawn'),j.addColumn('number','Won'),$.each(h,function(m,n){var o=[];o.push(m),o.push(n[0]),o.push(n[1]),o.push(n[2]),j.addRow(o)}),j.sort([{column:3,desc:!0}]);var l=new google.visualization.ColumnChart(document.getElementById('chart_div'));l.draw(j,google.charts.Bar.convertOptions({animation:{startup:!0,duration:1500,easing:'out'},height:1e3,chartArea:{left:180,top:50,width:'100%'},bar:{groupWidth:'61.8%'},isStacked:!1,orientation:'vertical',colors:['red','orange','green'],legend:{position:'top',alignment:'center'},hAxis:{maxValue:38,ticks:[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38]}}))}):'barChartPoints'===g?google.charts.setOnLoadCallback(function(){var j=new google.visualization.DataTable;j.addColumn('string','Team'),j.addColumn('number','Points Achieved'),j.addColumn('number','Maximum Possible'),j.addColumn({type:'string',role:'tooltip'}),$.each(h,function(m,n){var o=[];o.push(m),o.push(n[3]),o.push(n[4]);var p=n[3]+n[4];o.push(p.toString()),j.addRow(o)}),j.sort([{column:1,desc:!0}]);var l=new google.visualization.ColumnChart(document.getElementById('chart_div'));l.draw(j,google.charts.Bar.convertOptions({animation:{startup:!0,duration:1500,easing:'out'},height:800,chartArea:{left:75,top:50,width:'100%'},bar:{groupWidth:'61.8%'},isStacked:!0,orientation:'horizontal',colors:['green','blue'],legend:{position:'top',alignment:'center'}}))}):'lineChart'===g?(console.log(h),google.charts.setOnLoadCallback(function(){var j;$.each(h,function(q,r){j=r.Positions.length});var k=new google.visualization.DataTable;for(var l in k.addColumn('number','Week'),h)k.addColumn('number',h[l].TeamName);for(var n,m=0;m<j;m++)n=[],n.push(m+1),$.each(h,function(q,r){n.push(r.Positions[m])}),k.addRow(n);var p=new google.visualization.LineChart(document.getElementById('chart_div'));p.draw(k,{height:1e3,title:'Trend',legend:{position:'bottom'},series:{1:{targetAxisIndex:1},0:{targetAxisIndex:0}},vAxes:{0:{title:'League Position'}},vAxis:{direction:-1,viewWindow:{min:1,max:20},ticks:[1,4,8,12,16,20]},hAxis:{maxValue:38,ticks:[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38]},chartArea:{left:55,top:50,width:'90%'}})})):'pieChart'===g?google.charts.setOnLoadCallback(function(){var j=new google.visualization.DataTable;j.addColumn('string','Result_Outcome'),j.addColumn('number','Result_Count'),j.addRow(['Wins',h.Won]),j.addRow(['Draws',h.Drawn]),j.addRow(['Losses',h.Lost]);var k=new google.visualization.DataTable;k.addColumn('string','Amount'),k.addColumn('number','Amount'),k.addRow(['Goals scored',h.GS]),k.addRow(['Goals conceded',h.GC]);var l={width:300,height:300,pieHole:0.5,colors:['green','orange','red'],chartArea:{left:20},legend:{position:'top',alignment:'center'}},m={width:300,height:300,pieHole:0.5,colors:['green','red'],chartArea:{left:20},legend:{position:'top',alignment:'center'}},n=new google.visualization.PieChart(document.getElementById('WDL_chart')),o=new google.visualization.PieChart(document.getElementById('goals_chart'));n.draw(j,l),o.draw(k,m);var p=new google.visualization.DataTable;p.addColumn('string','Result_Outcome'),p.addColumn('number','Result_Count'),p.addRow(['Wins',home_form.Won]),p.addRow(['Draws',home_form.Drawn]),p.addRow(['Losses',home_form.Lost]);var q=new google.visualization.DataTable;q.addColumn('string','Amount'),q.addColumn('number','Amount'),q.addRow(['Goals scored',home_form.GS]),q.addRow(['Goals conceded',home_form.GC]);var r=new google.visualization.PieChart(document.getElementById('WDL_chart_home')),s=new google.visualization.PieChart(document.getElementById('goals_chart_home'));r.draw(p,l),s.draw(q,m);var t=new google.visualization.DataTable;t.addColumn('string','Result_Outcome'),t.addColumn('number','Result_Count'),t.addRow(['Wins',away_form.Won]),t.addRow(['Draws',away_form.Drawn]),t.addRow(['Losses',away_form.Lost]);var u=new google.visualization.DataTable;u.addColumn('string','Amount'),u.addColumn('number','Amount'),u.addRow(['Goals scored',away_form.GS]),u.addRow(['Goals conceded',away_form.GC]);var v=new google.visualization.PieChart(document.getElementById('WDL_chart_away')),w=new google.visualization.PieChart(document.getElementById('goals_chart_away'));v.draw(t,l),w.draw(u,m)}):'comparison'===g?google.charts.setOnLoadCallback(function(){console.log(h);var j=new google.visualization.DataTable;j.addColumn('string','Result_Outcome'),j.addColumn('number','Result_Count'),j.addRow(['Wins',h.T1_Won]),j.addRow(['Draws',h.T1_Drawn]),j.addRow(['Losses',h.T1_Lost]);var k=new google.visualization.DataTable;k.addColumn('string','Result_Outcome'),k.addColumn('number','Result_Count'),k.addRow(['Wins',h.T2_Won]),k.addRow(['Draws',h.T2_Drawn]),k.addRow(['Losses',h.T2_Lost]);var l={width:300,height:300,colors:['green','orange','red'],chartArea:{left:20},is3D:!0,legend:{position:'top',alignment:'center'}},m=new google.visualization.DataTable;m.addColumn('string',''),m.addColumn('number','scored'),m.addColumn('number','conceded'),m.addRow(['',h.T1_GS,h.T1_GC]);var n=new google.visualization.DataTable;n.addColumn('string',''),n.addColumn('number','scored'),n.addColumn('number','conceded'),n.addRow(['',h.T2_GS,h.T2_GC]);var o={animation:{startup:!0,duration:1500,easing:'out'},width:300,height:300,bar:{groupWidth:'61.8%'},isStacked:!1,orientation:'vertical',colors:['green','red'],legend:{position:'top',alignment:'center'},hAxis:{maxValue:120,ticks:[5,10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,105,110,115,120]}},p=new google.visualization.PieChart(document.getElementById('T1_WDL_chart')),q=new google.visualization.PieChart(document.getElementById('T2_WDL_chart'));p.draw(j,l),q.draw(k,l);var r=new google.visualization.ColumnChart(document.getElementById('T1_goals_chart')),s=new google.visualization.ColumnChart(document.getElementById('T2_goals_chart'));r.draw(m,google.charts.Bar.convertOptions(o)),s.draw(n,google.charts.Bar.convertOptions(o))}):void 0;$('#chart_selection').change(function(){$('#chart_form').submit()}),$('#compare_button').prop('disabled',!0),$('input[name=team_checked]').change(function(){2==$('input[name=team_checked]:checked').length?$('#compare_button').prop('disabled',!1).css('background-color','blue'):$('#compare_button').prop('disabled',!0).css('background-color','#ffffff')}),$('#compare_button').on('click',function(j){j.preventDefault();var k=[];$('input[name=team_checked]:checked').each(function(){k.push($(this).val())}),$.ajax({url:'/get_comparison_data',data:{teams_for_comparison:k}}).done(function(l){params=JSON.stringify({data:l}),window.location='/comparison/'+params}).fail(function(){console.log('!!!!ERROR!!!!')})})});
